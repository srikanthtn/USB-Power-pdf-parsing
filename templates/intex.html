<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>USB PD Specification Viewer</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>USB Power Delivery Specification Viewer</h1>
    <p>Upload and parse USB PD specification PDFs with FastAPI backend</p>
  </header>

  <main>
    <!-- Upload Section -->
    <section class="upload-box">
      <h2>Upload PDF</h2>
      <form id="pdfUploadForm" enctype="multipart/form-data">
        <label for="pdfFile">Select PDF File:</label>
        <input type="file" id="pdfFile" name="file" accept=".pdf" required>
        <button type="submit" id="uploadBtn">Upload & Parse PDF</button>
      </form>
      <div id="uploadStatus"></div>
    </section>

    <!-- Search Section -->
    <section class="search-box">
      <h2>Search Sections</h2>
      <div class="search-controls">
        <input type="text" id="searchQuery" placeholder="Enter search term...">
        <button onclick="searchSections()">Search</button>
        <input type="number" id="searchLimit" value="10" min="1" max="50" placeholder="Limit">
      </div>
      <div id="searchResults"></div>
    </section>

    <!-- Stats Section -->
    <section class="stats-box">
      <h2>Parsing Statistics</h2>
      <button onclick="getStats()">Refresh Stats</button>
      <div id="statsDisplay"></div>
    </section>

    <!-- TOC Table -->
    <section>
      <h2>Table of Contents</h2>
      <button onclick="loadTOC()">Load TOC Data</button>
      <button onclick="exportTOC()">Export TOC</button>
      <table id="tocTable">
        <thead>
          <tr>
            <th>Section ID</th>
            <th>Title</th>
            <th>Page</th>
            <th>Level</th>
            <th>Tags</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <!-- Sections Table -->
    <section>
      <h2>Document Sections</h2>
      <button onclick="loadSections()">Load Sections Data</button>
      <button onclick="exportSections()">Export Sections</button>
      <table id="sectionTable">
        <thead>
          <tr>
            <th>Section ID</th>
            <th>Title</th>
            <th>Page</th>
            <th>Content Preview</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <!-- Control Section -->
    <section class="control-box">
      <h2>Data Management</h2>
      <button onclick="clearData()" class="danger">Clear All Data</button>
    </section>
  </main>

  <script src="scripts.js"></script>
</body>
</html>
